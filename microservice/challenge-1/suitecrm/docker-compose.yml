version: '3.0'
services:

  ingester:
    image: suitecrm/csv-ingester:latest
    container_name: ingester
    hostname: ingester
    environment:
      - UID_USER=${ID}
    volumes:
      - $PWD/csv-ingester/target/test-classes/datasets:/datasets
    command:
      -d /datasets

  processing-customer:
    image: suitecrm/kafka-processing:latest
    container_name: processing-customer
    hostname: processing-customer
    environment:
      - UID_USER=${ID}
    command:
      "customers"

  processing-product:
    image: suitecrm/kafka-processing:latest
    container_name: processing-product
    hostname: processing-product
    environment:
      - UID_USER=${ID}
    command:
      "products"

networks:
  default:
    external:
      name: suitecrm_default
